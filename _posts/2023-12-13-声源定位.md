---
layout:     post
title:      声源定位
subtitle:   声源定位的原理
date:       2023-12-13
author:     YXJ
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - MicArray
---

## 前言

在智能语音交互过程中，定位发音人的方向对提升语音交互的体验非常重要。人可以通过双耳加大脑准确定位说话人方向，研究发现人很大可能是通过声音到达双耳的时间差来定位方向。那么如何使计算机能够定位声源，可以参考人耳的定位原理设计相应的算法来实现。



## 正文

为了方便阐述主要原理，下面以一个两MIC阵列作为示例。

### 声源角度 

如图，两个MIC间距为d，假定远场的情况下，声源发出的声波以近似平行波的方式到达阵列，和阵列的夹角为θ，那么两个MIC接收到的声波时间差为: $`T=d*\cos(\theta)/\tau`$ , $\tau$ 为声音在空气中的速度，约为340m/s。
根据公式如果能够得到T，那么就可以计算出θ。
![2MIC线性阵列](/img/micArray-tdoa.png)

### 时间差计算

两个MIC接收的波形为基本相似的存在时延的波形，因此通过计算互相关得到最大互相关样本偏移，再除以采样率即可得出时延信息。计算互相关时，为了降低噪音等其他周边环境音影响，对样本傅里叶变换后的值做正则化处理，保留相位信息。
得到的算法因此叫PHAT-GCC（相位转换通用互相关）。

